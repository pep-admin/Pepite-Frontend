import { styled, Paper, Rating } from '@mui/material';
import { forwardRef, CSSProperties } from 'react';
import { createSvgIcon } from '@mui/material/utils';

interface ItemProps {
  customheight?: string | number;
  customwidth?: string | number;
  minheight?: string | number;
  padding?: string | number;
  margintop?: string | number;
  borderradius?: string;
  overflow?: string;
  display?: 'block' | 'flex';
  flexdirection?: CSSProperties['flexDirection'];
  alignitems?: CSSProperties['alignItems'];
  justifycontent?: CSSProperties['justifyContent'];
  children?: React.ReactNode;
}

const StyledPaper = styled(Paper)<ItemProps>(
  ({
    theme,
    customheight,
    customwidth,
    minheight,
    padding,
    margintop,
    borderradius,
    overflow,
    display,
    flexdirection,
    alignitems,
    justifycontent,
  }) => ({
    height: customheight || 'auto',
    width: customwidth || 'auto',
    minHeight: minheight || 'auto',
    padding: padding || 'auto',
    marginTop: margintop || 'auto',
    overflow: overflow || 'visible',
    display: display || 'block',
    flexDirection: flexdirection || 'initial', // sera ignoré si display n'est pas "flex"
    alignItems: alignitems || 'initial', // sera ignoré si display n'est pas "flex"
    justifyContent: justifycontent || 'initial', // sera ignoré si display n'est pas "flex"
    backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',
    ...theme.typography.body2,
    borderRadius: borderradius || '10px',
    textAlign: 'center',
    color: theme.palette.text.primary,
  }),
);

export const Item = forwardRef<HTMLDivElement, ItemProps>((props, ref) => {
  return (
    <StyledPaper ref={ref} {...props}>
      {props.children}
    </StyledPaper>
  );
});

Item.displayName = 'Item';

// Création d'une loupe en SVG
export const MagnifyingGlassIcon = createSvgIcon(
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M9.02737 12.421C9.12973 12.5462 9.49542 12.7358 9.73112 12.5104L9.80318 12.4415C10.0389 12.2161 10.0029 11.8898 9.72318 11.7163C9.72318 11.7163 9.11653 11.3399 8.62882 10.8735C8.14636 10.4122 7.74661 9.82875 7.74661 9.82875C7.56397 9.56207 7.22158 9.52833 6.98588 9.75372L6.91698 9.8196C6.68128 10.045 6.87503 10.3936 7.00756 10.4919C7.1401 10.5901 7.44133 10.8549 7.67711 11.0803L8.41265 11.7838C8.64849 12.0091 8.92507 12.296 9.02737 12.421Z"
      fill="white"
    />
    <path
      d="M18.1856 10.1121C19.3951 8.95553 20 7.43934 20 5.92353C20 4.4074 19.3954 2.89172 18.1856 1.73494C15.7665 -0.578313 11.8443 -0.578313 9.4253 1.73494C8.21572 2.8916 7.61096 4.40753 7.61096 5.92353C7.61096 7.43947 8.21572 8.9554 9.4253 10.1121C11.8445 12.4253 15.7666 12.4253 18.1856 10.1121ZM11.0366 8.56437C10.272 7.83519 9.88978 6.87914 9.88978 5.92347C9.88978 4.96754 10.2719 4.01187 11.0366 3.28256C12.5659 1.82407 15.045 1.824 16.5745 3.28256C17.339 4.01174 17.7212 4.9676 17.7212 5.9234C17.7212 6.87927 17.3389 7.83506 16.5745 8.56437C15.0452 10.0229 12.5658 10.0229 11.0366 8.56437Z"
      fill="white"
    />
    <path
      d="M3.00102 18.8953L8.09808 14.0212C8.25291 13.8731 8.33823 13.6748 8.33823 13.4628C8.33823 13.2508 8.25284 13.0525 8.09808 12.9044L6.50524 11.3814C6.35041 11.2332 6.14299 11.1516 5.92123 11.1516C5.69959 11.1516 5.49217 11.2332 5.33735 11.3814L0.240152 16.2553C0.0853259 16.4035 0 16.6018 0 16.8137V16.8139C0 17.0257 0.0853932 17.224 0.240152 17.3722L1.83299 18.8953C2.15503 19.2032 2.67904 19.2032 3.00102 18.8953Z"
      fill="white"
    />
  </svg>,
  'MagnifyingGlassIcon',
);

// SVG abonnés
export const FollowerIcon = createSvgIcon(
  <svg
    width="20"
    height="18"
    viewBox="0 0 20 18"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M5.4375 12.75L8.125 11.3125C8.25 11.25 8.3125 11.125 8.3125 11V10.125C8.0625 9.75 7.5625 9 7.3125 8.0625C7 7.75 6.8125 7.3125 6.8125 6.875V5.6875C6.8125 5.375 6.9375 5 7.125 4.75V3.3125C7.125 3.1875 7.125 2.9375 7.125 2.5625C6.6875 2.4375 6.25 2.375 5.75 2.375C2.625 2.375 2.4375 5.0625 2.4375 5.0625V6.4375C2.25 6.625 2.125 6.875 2.125 7.125V8.1875C2.125 8.5 2.25 8.8125 2.5 9C2.75 9.9375 3.375 10.625 3.625 10.875V11.6875C3.625 11.9375 3.5 12.125 3.25 12.25L1.25 13.5C0.5 13.9375 0 14.75 0 15.5625V16.6875H3.75V15.4375C3.8125 14.375 4.4375 13.3125 5.4375 12.75Z"
      fill="#24A5A5"
    />
    <path
      d="M19.4375 14.4375H15.6875L16.9375 13.1875C17.0625 13.0625 17.125 12.9375 17.125 12.8125C17.125 12.5625 16.875 12.25 16.5625 12.25C16.4375 12.25 16.3125 12.3125 16.1875 12.4375L14 14.625C13.875 14.75 13.8125 14.8125 13.8125 15C13.8125 15.1875 13.875 15.3125 14 15.375L16.1875 17.5625C16.3125 17.6875 16.4375 17.75 16.5625 17.75C16.875 17.75 17.125 17.5 17.125 17.1875C17.125 17.0625 17.0625 16.9375 16.9375 16.8125L15.6875 15.5625H19.4375C19.75 15.5625 20 15.3125 20 15C20 14.6875 19.75 14.4375 19.4375 14.4375Z"
      fill="#24A5A5"
    />
    <path
      d="M14.125 11.9375L13.6875 11.75C13.4375 11.625 13.25 11.3125 13.25 11.0625V10.0625C13.3125 10 13.375 9.875 13.4375 9.75C13.8125 9.25 14.125 8.625 14.3125 8C14.75 7.8125 15 7.375 15 6.9375V5.75C15 5.4375 14.875 5.1875 14.6875 4.9375V3.25C14.6875 3.0625 14.75 2.125 14.0625 1.3125C13.5 0.625 12.5 0.25 11.125 0.25C9.75 0.25 8.75 0.625 8.125 1.3125C7.4375 2.125 7.5 3.125 7.5 3.25V4.875C7.3125 5.125 7.1875 5.375 7.1875 5.6875V6.875C7.1875 7.25 7.375 7.5625 7.625 7.8125C7.875 8.875 8.5 9.75 8.6875 10V11C8.6875 11.3125 8.5 11.5625 8.25 11.6875L5.625 13.125C4.75 13.625 4.1875 14.5 4.1875 15.5V16.75H11.5625C11.5625 16.6875 11.5625 16.625 11.5625 16.5625C11.625 14.625 12.625 12.9375 14.125 11.9375Z"
      fill="#24A5A5"
    />
  </svg>,
  'FollowerIcon',
);

// SVG abonnements
export const FollowedIcon = createSvgIcon(
  <svg
    width="20"
    height="18"
    viewBox="0 0 20 18"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M5.4375 12.381L8.125 10.9572C8.25 10.8953 8.3125 10.7714 8.3125 10.6476V9.78096C8.0625 9.40954 7.5625 8.66668 7.3125 7.73811C7 7.42858 6.8125 6.99525 6.8125 6.56192V5.38573C6.8125 5.0762 6.9375 4.70477 7.125 4.45716V3.03335C7.125 2.90954 7.125 2.66192 7.125 2.29049C6.6875 2.16668 6.25 2.10477 5.75 2.10477C2.625 2.10477 2.4375 4.76668 2.4375 4.76668V6.12858C2.25 6.3143 2.125 6.56192 2.125 6.80954V7.86192C2.125 8.17144 2.25 8.48097 2.5 8.66668C2.75 9.59525 3.375 10.2762 3.625 10.5238V11.3286C3.625 11.5762 3.5 11.7619 3.25 11.8857L1.25 13.1238C0.5 13.5572 0 14.3619 0 15.1667V16.281H3.75V15.0429C3.8125 13.9905 4.4375 12.9381 5.4375 12.381Z"
      fill="#094B4B"
    />
    <path
      d="M19.8125 14.2381L17.625 12.0714C17.5 11.9476 17.375 11.8857 17.25 11.8857C16.9375 11.8857 16.6875 12.1333 16.6875 12.4429C16.6875 12.5667 16.75 12.6905 16.875 12.8143L18.125 14.0524H14.375C14.0625 14.0524 13.8125 14.3 13.8125 14.6095C13.8125 14.9191 14.0625 15.1667 14.375 15.1667H18.125L16.875 16.4048C16.75 16.5286 16.6875 16.6524 16.6875 16.7762C16.6875 17.0238 16.9375 17.3333 17.25 17.3333C17.375 17.3333 17.5 17.2714 17.625 17.1476L19.8125 14.981C19.875 14.9191 20 14.7953 20 14.6095C20 14.4238 19.875 14.3 19.8125 14.2381Z"
      fill="#094B4B"
    />
    <path
      d="M14.125 11.5762L13.6875 11.3905C13.4375 11.2667 13.25 10.9571 13.25 10.7095V9.71905C13.3125 9.65714 13.375 9.53333 13.4375 9.40952C13.8125 8.91429 14.125 8.29524 14.3125 7.67619C14.75 7.49048 15 7.05714 15 6.62381V5.44762C15 5.1381 14.875 4.89048 14.6875 4.64286V2.97143C14.6875 2.78571 14.75 1.85714 14.0625 1.05238C13.5 0.371429 12.5 0 11.125 0C9.75 0 8.75 0.371429 8.125 1.05238C7.4375 1.85714 7.5 2.84762 7.5 2.97143V4.58095C7.3125 4.82857 7.1875 5.07619 7.1875 5.38571V6.56191C7.1875 6.93333 7.375 7.24286 7.625 7.49048C7.875 8.54286 8.5 9.40952 8.6875 9.65714V10.6476C8.6875 10.9571 8.5 11.2048 8.25 11.3286L5.625 12.7524C4.75 13.2476 4.1875 14.1143 4.1875 15.1048V16.3429H11.5625C11.5625 16.281 11.5625 16.219 11.5625 16.1571C11.625 14.2381 12.625 12.5667 14.125 11.5762Z"
      fill="#094B4B"
    />
  </svg>,
  'FollowedIcon',
);

// Etoiles customisées orange
export const OrangeRating = styled(Rating)({
  '.MuiRating-iconFilled': {
    color: '#F29E50',
  },
});

// Etoiles customisées jaune
export const YellowRating = styled(Rating)({
  '.MuiRating-iconFilled': {
    color: '#FFDA1B',
  },
});

// Etoiles customisées turquoise
export const TurquoiseRating = styled(Rating)({
  '.MuiRating-iconFilled': {
    color: '#24A5A5',
  },
});
